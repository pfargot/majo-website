const CACHE_VERSION="v1.0.2",STATIC_CACHE="static-v1.0.2",DYNAMIC_CACHE="dynamic-v1.0.2",STATIC_ASSETS=["/","/index.html","/src/css/style.css","/src/images/hero/hero-image.avif","/src/images/hero/hero-image-mobile.avif","/bundle.js"];self.addEventListener("install",(e=>{e.waitUntil(Promise.all([caches.open(STATIC_CACHE).then((e=>(console.log("Attempting to cache static assets..."),Promise.all(STATIC_ASSETS.map((t=>fetch(t).then((s=>{if(!s.ok)throw new Error(`Failed to fetch ${t}: ${s.status} ${s.statusText}`);return e.put(t,s)})).catch((e=>(console.error(`Failed to cache ${t}:`,e),Promise.resolve()))))))))),self.skipWaiting()]))})),self.addEventListener("activate",(e=>{e.waitUntil(Promise.all([caches.keys().then((e=>Promise.all(e.map((e=>{if(![STATIC_CACHE,DYNAMIC_CACHE].includes(e))return caches.delete(e)}))))),clients.claim()]))})),self.addEventListener("fetch",(e=>{const t=e.request;"GET"===t.method&&t.url.startsWith("http")&&(STATIC_ASSETS.some((e=>t.url.endsWith(e)))?e.respondWith(caches.match(t).then((e=>e||fetch(t)))):e.respondWith(caches.match(t).then((e=>{const s=fetch(t).then((e=>{if(e.ok&&t.url.startsWith("http")){const s=e.clone();caches.open(DYNAMIC_CACHE).then((e=>{e.put(t,s)}))}return e}));return e||s}))))}));